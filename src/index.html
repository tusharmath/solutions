<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bills</title>
    <style>

    </style>
</head>
<body>
<div>
    <div>
        <span><input id="add-bill-amount" type="text" placeholder="enter bill amount"></span>
        <span><input id="add-bill-button" type="button" value="add bill"/></span>
    </div>
</div>
</body>
<script>
    (function (document) {
        "use strict";
        var storage = localStorage,
                $ = document.getElementById.bind(document),
                saveDb = function (val) {
                    storage.setItem('data', JSON.stringify(val));
                },
                retrieveDb = function () {
                    var data = storage.getItem('data');
                    return data ? JSON.parse(data) : {bills: [], people: []};
                }
                ;
        $.on = document.addEventListener;

        function Person(name) {
            this.name = name;
        }

        function Bill(amount, people) {
            this.amount = amount;
            this.people = people;
            this.addPerson = function (person) {
                this.people.push(person);
            };
        }

        function Main() {
            var data = retrieveDb();
            this.bills = data.bills;
            this.people = data.people;

            this.addPerson = function (personName) {
                var person = new Person(personName);
                this.bills.push(person);
                saveDb(this);
            }.bind(this);

            this.addBill = function (amount, people) {
                var bill = new Bill(amount, people);
                this.bills.push(bill);
                saveDb(this);
            }.bind(this);
        }

        var m = new Main();

    })(document);
</script>
</html>